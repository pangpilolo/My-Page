# 敏感词检测工具
>通常我们的个人网站或者博客网站存在他人发布评论的功能，就可能涉及一些用户发表评论的时候“口吐芬芳”、“祝福别人”，或者发表一些政治言论，不仅会造成评论区乌烟瘴气，更严重的可能会导致网警叔叔上门查水表。虽然发表评论大多数都是计算机相关行业的人员，素质不会过低，但是此事无小，不可不防

- 敏感词：辱骂他人、淫秽词语、政治言论、宗教言论等涉及的词语
- 敏感词检测工具的作用就是通过输入的文本和提前设置好的敏感词库进行匹配，通常会使用Trie树的形式，目前比较主流的做法是使用AC自动机来完成检测。
- 本开源敏感词检测工具主要具备一下功能
	- 完成文本的敏感词检测
	- 指出文本涉及的敏感词
	- 将文本中涉及的敏感词替换为 *** 或者指定的字符

# 如何使用

### 导入jar包
>由于没咋使用过其他开发工具，所以提供Intellij IDEA的导入jar包流程，如果你是使用的其他开发工具可以自行百度或者Bing一下

[Jar包下载](https://blog-oos.paofull.cn/jar/SensitiveWordUtils-1.0.0.jar)

打开项目结构
![](./image/Pasted%20image%2020240401160929.png)

选择模块，再选择要导入jar包的项目，再点击加号
![](./image/Pasted%20image%2020240401161048.png)

点击JAR或目录
![](./image/Pasted%20image%2020240401161417.png)

最后在目录和文件选择界面选择对应的jar文件，再点击确定即可
![](./image/Pasted%20image%2020240401161509.png)


### 初始化敏感词检测对象
获取一个敏感词检测对象，需要给定一个敏感词列表，通过SensitiveWordFactory对象生成
```java
public class TestCode {  
  
	public static void main(String[] args) {  
		List<String> sensitiveWords = new ArrayList<>();  
		sensitiveWords.add("我草");  
		sensitiveWords.add("我草你马");  
		sensitiveWords.add("吊毛");  
		sensitiveWords.add("某某党");  
		SensitiveWordsCheck sensitiveWordsCheck = SensitiveWordFactory.getDefaultSensitiveWordsCheck(sensitiveWords);  
	}  
}
```
### 检测是否涉及敏感词
通过hasBanWords方法来判断传入的文本是否涉及敏感词
```java
public class TestCode {  
  
	public static void main(String[] args) {  
		List<String> sensitiveWords = new ArrayList<>();  
		sensitiveWords.add("我草");  
		sensitiveWords.add("我草你马");  
		sensitiveWords.add("吊毛");  
		sensitiveWords.add("某某党");  
		SensitiveWordsCheck sensitiveWordsCheck = SensitiveWordFactory.getDefaultSensitiveWordsCheck(sensitiveWords);  
		String text = "我是一个好人，我草，你是不是人啊？你是某某党的？";  
		if (sensitiveWordsCheck.hasBanWords(text)) {  
			System.out.println("当前文本涉及敏感词");  
		}  
	}  
  
}
```
### 获取文本中的敏感词
可以通过searchBanWords方法获取文本中涉及的敏感词
```java
public class TestCode {  
  
	public static void main(String[] args) {  
		List<String> sensitiveWords = new ArrayList<>();  
		sensitiveWords.add("我草");  
		sensitiveWords.add("我草你马");  
		sensitiveWords.add("吊毛");  
		sensitiveWords.add("某某党");  
		SensitiveWordsCheck sensitiveWordsCheck = SensitiveWordFactory.getDefaultSensitiveWordsCheck(sensitiveWords);  
		String text = "我是一个好人，我草，你是不是人啊？你是某某党的？";  
		List<String> words = sensitiveWordsCheck.searchBanWords(text);  
	}  
  
}
```
### 继续添加敏感词
通过SensitiveWordsCheck对象获取其中的SensitiveWord对象后，通过SensitiveWord的addNewWord方法添加单个敏感词或者敏感词列表
```java
public class TestCode {  
  
	public static void main(String[] args) {  
		List<String> sensitiveWords = new ArrayList<>();  
		sensitiveWords.add("我草");  
		sensitiveWords.add("我草你马");  
		sensitiveWords.add("吊毛");  
		sensitiveWords.add("某某党");  
		SensitiveWordsCheck sensitiveWordsCheck = SensitiveWordFactory.getDefaultSensitiveWordsCheck(sensitiveWords);  
		 
		SensitiveWord sensitiveWord = sensitiveWordsCheck.getSensitiveWord();  
		sensitiveWord.addNewWord("我操");  
		List<String> newSensitiveWords = new ArrayList<>();  
		newSensitiveWords.add("你妹的");  
		newSensitiveWords.add("你他妈");  
		sensitiveWord.addNewWord(newSensitiveWords);  
	}  
  
}
```
### 将敏感词替换为指定文本
使用replaceBanWords方法，将传入的文本替换为指定字符，比如案例使用的“[违规词]”
```java
public class TestCode {  
  
	public static void main(String[] args) {  
		List<String> sensitiveWords = new ArrayList<>();  
		sensitiveWords.add("我草");  
		sensitiveWords.add("我草你马");  
		sensitiveWords.add("吊毛");  
		sensitiveWords.add("某某党");  
		SensitiveWordsCheck sensitiveWordsCheck = SensitiveWordFactory.getDefaultSensitiveWordsCheck(sensitiveWords);  
		String text = "我是一个好人，我草，你是不是人啊？你是某某党的？";  
		
		String replaceText = sensitiveWordsCheck.replaceBanWords(text, "[违规词]");  
		System.out.println("经过替换后的文本" + replaceText);  
	}  
  
}
```

# 开源信息
- 开源地址：[Gitee](https://gitee.com/Pang-Pi/sensitive-word-util)
- 语言：Java
- 可以嵌入：任何项目
- 是否维护和更新：会，并且后续会提供更丰富同时不臃肿的功能